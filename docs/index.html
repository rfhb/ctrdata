<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A system for querying, retrieving and analyzing
        protocol- and results-related information on clinical trials from
        three public registers, the European Union Clinical Trials Register
        (EUCTR, &lt;https://www.clinicaltrialsregister.eu/&gt;), 
        ClinicalTrials.gov (CTGOV, &lt;https://clinicaltrials.gov/&gt;) and
        the ISRCTN (&lt;http://www.isrctn.com/&gt;). 
        Trial information is downloaded, converted and stored in a database 
        (PostgreSQL, SQLite or MongoDB; via package nodbi). 
        Functions are included to identify deduplicated records, 
        to easily find and extract variables (fields) of interest even 
        from complex nesting as used by the registers, and
        to update previous queries. 
        The package can be used for meta-analysis and trend-analysis of
        the design and conduct as well as for results of clinical trials.">
<title>Retrieve and Analyze Clinical Trials in Public Registers ‚Ä¢ ctrdata</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Retrieve and Analyze Clinical Trials in Public Registers">
<meta property="og:description" content="A system for querying, retrieving and analyzing
        protocol- and results-related information on clinical trials from
        three public registers, the European Union Clinical Trials Register
        (EUCTR, &lt;https://www.clinicaltrialsregister.eu/&gt;), 
        ClinicalTrials.gov (CTGOV, &lt;https://clinicaltrials.gov/&gt;) and
        the ISRCTN (&lt;http://www.isrctn.com/&gt;). 
        Trial information is downloaded, converted and stored in a database 
        (PostgreSQL, SQLite or MongoDB; via package nodbi). 
        Functions are included to identify deduplicated records, 
        to easily find and extract variables (fields) of interest even 
        from complex nesting as used by the registers, and
        to update previous queries. 
        The package can be used for meta-analysis and trend-analysis of
        the design and conduct as well as for results of clinical trials.">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@rfhb">
<meta name="twitter:site" content="@rfhb">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ctrdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.10.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/ctrdata_install.html">Install R package ctrdata</a>
    <a class="dropdown-item" href="articles/ctrdata_retrieve.html">Retrieve clinical trial information</a>
    <a class="dropdown-item" href="articles/ctrdata_summarise.html">Summarise and analyse clinical trial information</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rfhb/ctrdata/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="ctrdata-for-aggregating-and-analysing-clinical-trials">ctrdata for aggregating and analysing clinical trials<a class="anchor" aria-label="anchor" href="#ctrdata-for-aggregating-and-analysing-clinical-trials"></a>
</h1></div>
<p>The package <code>ctrdata</code> provides functions for retrieving (downloading) information on clinical trials from public registers, and for aggregating and analysing this information; it can be used for the</p>
<ul>
<li>EU Clinical Trials Register (‚ÄúEUCTR‚Äù, <a href="https://www.clinicaltrialsregister.eu/" class="external-link uri">https://www.clinicaltrialsregister.eu/</a>)</li>
<li>ClinicalTrials.gov (‚ÄúCTGOV‚Äù, <a href="https://clinicaltrials.gov/" class="external-link uri">https://clinicaltrials.gov/</a>)</li>
<li>ISRCTN (<a href="https://www.isrctn.com/" class="external-link uri">https://www.isrctn.com/</a>)</li>
</ul>
<p>The motivation is to understand trends in design and conduct of trials, their availability for patients and their detailled results. <code>ctrdata</code> is a package for the <a href="https://www.r-project.org/" class="external-link">R</a> system, but other systems and tools can be used with the databases created by it. This README was reviewed on 2022-08-14 for version 1.10.0.9009 (see <a href="NEWS.html">NEWS.md</a>).</p>
<p>Main features:</p>
<ul>
<li><p>Protocol-related trial information is easily retrieved (downloaded): Users define a query in a register‚Äôs web interface and then use <code>ctrdata</code> to retrieve in one step all trials resulting from the query. Results-related trial information and personal annotations can be including during retrieval. Synonyms of an active substance can also be found.</p></li>
<li><p>Retrieved (downloaded) trial information is transformed and stored in a document-centric database, for fast and offline access. Uses <code>PostgreSQL</code> (üîînew in version 1.9.0), <code>RSQLite</code> or <code>MongoDB</code> as databases, via R package <code>nodbi</code>: see section <a href="#databases-that-can-be-used-with-ctrdata">Databases</a> below. Easily re-run a previous query to update a database.</p></li>
<li><p>Analysis can be done with <code>R</code> (using <code>ctrdata</code> convenience functions) or others systems. Unique (de-duplicated) trial records are identified across registers. <code>ctrdata</code> can merge and recode information (fields) and also provides easy access even to deeply-nested fields (new in version 1.4.0).</p></li>
</ul>
<p>Remember to respect the registers‚Äô terms and conditions (see <code>ctrOpenSearchPagesInBrowser(copyright = TRUE)</code>). Please cite this package in any publication as follows: ‚ÄúRalf Herold (2021). ctrdata: Retrieve and Analyze Clinical Trials in Public Registers. R package version 1.10.0, <a href="https://cran.r-project.org/package=ctrdata" class="external-link uri">https://cran.r-project.org/package=ctrdata</a>‚Äù Package <code>ctrdata</code> has been used for: Blogging on <a href="https://paediatricdata.eu/innovation-coming-to-paediatric-research/" class="external-link">Innovation coming to paediatric research</a> and a Report on <a href="https://www.cancerresearchuk.org/about-us/we-develop-policy/we-work-with-government/exiting-the-eu/uk-and-eu-research#downloads" class="external-link">The impact of collaboration: The value of UK medical research to EU science and health</a></p>
<!--

```r
citation("ctrdata")
```
-->
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="id_1-install-package-ctrdata-in-r">1. Install package <code>ctrdata</code> in R<a class="anchor" aria-label="anchor" href="#id_1-install-package-ctrdata-in-r"></a>
</h3>
<p>Package <code>ctrdata</code> is <a href="https://cran.r-project.org/package=ctrdata" class="external-link">on CRAN</a> and <a href="https://github.com/rfhb/ctrdata" class="external-link">on GitHub</a>. Within <a href="https://www.r-project.org/" class="external-link">R</a>, use the following commands to install package <code>ctrdata</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install CRAN version:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ctrdata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Alternatively, install development version:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"rfhb/ctrdata"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>These commands also install the package dependencies, which are <code>nodbi</code>, <code>jsonlite</code>, <code>httr</code>, <code>curl</code>, <code>clipr</code>, <code>xml2</code>, <code>rvest</code> and <code>stringi</code>.</p>
</div>
<div class="section level3">
<h3 id="id_2-command-line-tools-perl-sed-and-php-52-or-higher">2. Command line tools <code>perl</code>, <code>sed</code> and <code>php</code> (5.2 or higher)<a class="anchor" aria-label="anchor" href="#id_2-command-line-tools-perl-sed-and-php-52-or-higher"></a>
</h3>
<p>These are required for <code><a href="reference/ctrLoadQueryIntoDb.html">ctrLoadQueryIntoDb()</a></code>, the main function of package <code>ctrdata</code> (see <a href="#example-workflow">Example workflow</a>); the function also checks if the tools can be used.</p>
<ul>
<li><p>For MS Windows, install <a href="https://cygwin.org/install.html" class="external-link"><code>Cygwin</code></a>: In <code>R</code>, run <code><a href="reference/installCygwinWindowsDoInstall.html">ctrdata::installCygwinWindowsDoInstall()</a></code> for an automated minimal installation. Alternatively, manually install Cygwin with packages <code>perl</code>, <code>php-jsonc</code> and <code>php-simplexml</code> into <code>c:\cygwin</code>. The installation needs about 160 MB disk space; no administrator credentials needed.</p></li>
<li><p>In macOS including 11 Big Sur, these are already installed; as alternative and üîîfor macOS 12 Monterey, <a href="https://brew.sh/" class="external-link"><code>homebrew</code></a> can be used: <code>brew install php</code>, which seems to include the libraries required for <code>ctrdata</code>.</p></li>
<li><p>In Linux, these are usually already installed; tools for installation vary by distribution (e.g., <code>sudo apt install php-cli php-xml php-json</code>).</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="overview-of-functions-in-ctrdata">Overview of functions in <code>ctrdata</code>
<a class="anchor" aria-label="anchor" href="#overview-of-functions-in-ctrdata"></a>
</h2>
<p>The functions are listed in the approximate order of use in a user‚Äôs workflow (in bold, main functions). See also the <a href="https://rfhb.github.io/ctrdata/reference/index.html">package documentation overview</a>.</p>
<table class="table">
<colgroup>
<col width="21%">
<col width="78%">
</colgroup>
<thead><tr class="header">
<th>Function name</th>
<th>Function purpose</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="reference/ctrOpenSearchPagesInBrowser.html">ctrOpenSearchPagesInBrowser()</a></code></td>
<td>Open search pages of registers or execute search in web browser</td>
</tr>
<tr class="even">
<td><code><a href="reference/ctrFindActiveSubstanceSynonyms.html">ctrFindActiveSubstanceSynonyms()</a></code></td>
<td>Find synonyms and alternative names for an active substance</td>
</tr>
<tr class="odd">
<td><code><a href="reference/ctrGetQueryUrl.html">ctrGetQueryUrl()</a></code></td>
<td>Import from clipboard the URL of a search in one of the registers</td>
</tr>
<tr class="even">
<td><code><a href="reference/ctrLoadQueryIntoDb.html">ctrLoadQueryIntoDb()</a></code></td>
<td><strong>Retrieve (download) or update, and annotate, information on trials from a register and store in a collection in a database</strong></td>
</tr>
<tr class="odd">
<td><code><a href="reference/dbQueryHistory.html">dbQueryHistory()</a></code></td>
<td>Show the history of queries that were downloaded into the collection</td>
</tr>
<tr class="even">
<td><code><a href="reference/dbFindIdsUniqueTrials.html">dbFindIdsUniqueTrials()</a></code></td>
<td><strong>Get the identifiers of de-duplicated trials in the collection</strong></td>
</tr>
<tr class="odd">
<td><code><a href="reference/dbFindFields.html">dbFindFields()</a></code></td>
<td>Find names of variables (fields) in the collection</td>
</tr>
<tr class="even">
<td><code><a href="reference/dbGetFieldsIntoDf.html">dbGetFieldsIntoDf()</a></code></td>
<td><strong>Create a data frame (or tibble) from trial records in the database with the specified fields</strong></td>
</tr>
<tr class="odd">
<td><code><a href="reference/dfTrials2Long.html">dfTrials2Long()</a></code></td>
<td>Transform the data.frame from <code><a href="reference/dbGetFieldsIntoDf.html">dbGetFieldsIntoDf()</a></code> into a long name-value data.frame, including deeply nested fields</td>
</tr>
<tr class="even">
<td><code><a href="reference/dfName2Value.html">dfName2Value()</a></code></td>
<td>From a long name-value data.frame, extract values for variables (fields) of interest (e.g., endpoints)</td>
</tr>
<tr class="odd">
<td><code><a href="reference/dfMergeTwoVariablesRelevel.html">dfMergeTwoVariablesRelevel()</a></code></td>
<td>Merge two simple variables into a new variable, optionally map values to a new set of values</td>
</tr>
<tr class="even">
<td><code><a href="reference/installCygwinWindowsDoInstall.html">installCygwinWindowsDoInstall()</a></code></td>
<td>Convenience function to install a Cygwin environment (MS Windows only)</td>
</tr>
</tbody>
</table>
<p>If package <code>dplyr</code> is loaded, a tibble is returned instead of a data.frame.</p>
</div>
<div class="section level2">
<h2 id="databases-that-can-be-used-with-ctrdata">Databases that can be used with <code>ctrdata</code>
<a class="anchor" aria-label="anchor" href="#databases-that-can-be-used-with-ctrdata"></a>
</h2>
<p>Package <code>ctrdata</code> retrieves trial information and stores it in a database collection, which has to be given as a connection object to parameter <code>con</code> for several <code>ctrdata</code> functions; this connection object is created in slightly different ways for the three supported database backends that can be used with <code>ctrdata</code> as shown in the table. For a speed comparison, see the <a href="https://github.com/ropensci/nodbi#benchmark" class="external-link">nodbi documentation</a>.</p>
<p>Besides ctrdata functions below, any such a connection object can equally be used with functions of other packages, such as <code>nodbi</code> (last row in table) or, in case of MongoDB as database backend, <code>mongolite</code> (see vignettes).</p>
<table class="table">
<colgroup>
<col width="26%">
<col width="73%">
</colgroup>
<thead><tr class="header">
<th>Purpose</th>
<th>Function call</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Create <strong>SQLite</strong> database connection</td>
<td><code>dbc &lt;- nodbi::src_sqlite(dbname = "name_of_my_database", collection = "name_of_my_collection")</code></td>
</tr>
<tr class="even">
<td>Create <strong>MongoDB</strong> database connection</td>
<td><code>dbc &lt;- nodbi::src_mongo(db = "name_of_my_database", collection = "name_of_my_collection")</code></td>
</tr>
<tr class="odd">
<td>Create <strong>PostgreSQL</strong> database connection</td>
<td><code>dbc &lt;- nodbi::src_postgres(dbname = "name_of_my_database"); dbc[["collection"]] &lt;- "name_of_my_collection"</code></td>
</tr>
<tr class="even">
<td>Use connection with <code>ctrdata</code> functions</td>
<td><code>ctrdata::{ctrLoadQueryIntoDb, dbQueryHistory, dbFindIdsUniqueTrials, dbFindFields, dbGetFieldsIntoDf}(con = dbc, ...)</code></td>
</tr>
<tr class="odd">
<td>Use connection with <code>nodbi</code> functions</td>
<td>e.g., <code>nodbi::docdb_query(src = dbc, key = dbc$collection, ...)</code>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<ul>
<li><a href="https://rfhb.github.io/ctrdata/articles/ctrdata_install.html">Install R package ctrdata</a></li>
<li><a href="https://rfhb.github.io/ctrdata/articles/ctrdata_retrieve.html">Retrieve clinical trial information</a></li>
<li><a href="https://rfhb.github.io/ctrdata/articles/ctrdata_summarise.html">Summarise and analyse clinical trial information</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="example-workflow">Example workflow<a class="anchor" aria-label="anchor" href="#example-workflow"></a>
</h2>
<p>The aim is to download protocol-related trial information and tabulate the trials‚Äô status of conduct.</p>
<ul>
<li>Attach package <code>ctrdata</code>:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cran.r-project.org/package=ctrdata" class="external-link">ctrdata</a></span><span class="op">)</span></span></code></pre></div>
<ul>
<li>See help to get started with <code>ctrdata</code>:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="st">"ctrdata-package"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Information on trial registers that can be used with <code>ctrdata</code>:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="st">"ctrdata-registers"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Open registers‚Äô advanced search pages in browser:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ctrOpenSearchPagesInBrowser.html">ctrOpenSearchPagesInBrowser</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Please review and respect register copyrights:</span></span>
<span><span class="fu"><a href="reference/ctrOpenSearchPagesInBrowser.html">ctrOpenSearchPagesInBrowser</a></span><span class="op">(</span>copyright <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p>Adjust search parameters and execute search in browser</p></li>
<li><p>When trials of interest are listed in browser, <em>copy the address from the browser‚Äôs address bar to the clipboard</em></p></li>
<li><p>Search used in this example: <a href="https://www.clinicaltrialsregister.eu/ctr-search/search?query=cancer&amp;age=under-18&amp;phase=phase-one&amp;status=completed" class="external-link uri">https://www.clinicaltrialsregister.eu/ctr-search/search?query=cancer&amp;age=under-18&amp;phase=phase-one&amp;status=completed</a></p></li>
<li><p>Get address from clipboard:</p></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ctrGetQueryUrl.html">ctrGetQueryUrl</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># * Using clipboard content as register query URL: https://www.clinicaltrialsregister.eu/ctr-search/search?query=cancer&amp;age=under-18&amp;phase=phase-one&amp;status=completed</span></span>
<span><span class="co"># * Found search query from EUCTR: query=cancer&amp;age=under-18&amp;phase=phase-one&amp;status=completed</span></span>
<span></span>
<span><span class="va">q</span></span>
<span><span class="co">#                                                   query-term  query-register</span></span>
<span><span class="co"># 1 query=cancer&amp;age=under-18&amp;phase=phase-one&amp;status=completed           EUCTR</span></span></code></pre></div>
<ul>
<li>Retrieve protocol-related information, transform and save to database:</li>
</ul>
<p>The database collection is specified first, using <code>nodbi</code> (see above for how to specify <code>PostgreSQL</code>, <code>RSQlite</code> or <code>MongoDB</code> as backend); then, trial information is retrieved and loaded into the collection:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Connect to (or newly create) an SQLite database</span></span>
<span><span class="co"># that is stored in a file on the local system:</span></span>
<span><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu">nodbi</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/nodbi/reference/src_sqlite.html" class="external-link">src_sqlite</a></span><span class="op">(</span></span>
<span>  dbname <span class="op">=</span> <span class="st">"some_database_name.sqlite_file"</span>,</span>
<span>  collection <span class="op">=</span> <span class="st">"some_collection_name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># See section Databases below</span></span>
<span><span class="co"># for MongoDB as alternative</span></span>
<span></span>
<span><span class="co"># Retrieve trials from public register:</span></span>
<span><span class="fu"><a href="reference/ctrLoadQueryIntoDb.html">ctrLoadQueryIntoDb</a></span><span class="op">(</span></span>
<span>  queryterm <span class="op">=</span> <span class="va">q</span>,</span>
<span>  con <span class="op">=</span> <span class="va">db</span><span class="op">)</span></span>
<span><span class="co"># * Found search query from EUCTR: query=cancer&amp;age=under-18&amp;phase=phase-one&amp;status=completed</span></span>
<span><span class="co"># (1/3) Checking trials in EUCTR:</span></span>
<span><span class="co"># Retrieved overview, multiple records of 66 trial(s) from 4 page(s) to be downloaded</span></span>
<span><span class="co"># Checking helper binaries: done</span></span>
<span><span class="co"># Downloading trials (4 pages in parallel)...</span></span>
<span><span class="co"># Note: register server cannot compress data, transfer takes longer, about 0.4s per trial</span></span>
<span><span class="co"># Pages: 4 done, 0 ongoing</span></span>
<span><span class="co"># (2/3) Converting to JSON, 248 records converted</span></span>
<span><span class="co"># (3/3) Importing JSON records into database...</span></span>
<span><span class="co"># = Imported or updated 248 records on 66 trial(s)</span></span>
<span><span class="co"># * Updated history ("meta-info" in "some_collection_name")</span></span></code></pre></div>
<p>Under the hood, scripts <code>euctr2json.sh</code> and <code>xml2json.php</code> (in <code>ctrdata/exec</code>) transform EUCTR plain text files and CTGOV as well as ISRCTN <code>XML</code> files to <code>ndjson</code> format, which is imported into the database collection.</p>
<ul>
<li>Analyse</li>
</ul>
<p>Tabulate the status of trials that are part of an agreed paediatric development program (paediatric investigation plan, PIP):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get all records that have values in the fields of interest:</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dbGetFieldsIntoDf.html">dbGetFieldsIntoDf</a></span><span class="op">(</span></span>
<span>  fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"a7_trial_is_part_of_a_paediatric_investigation_plan"</span>,</span>
<span>    <span class="st">"p_end_of_trial_status"</span>,</span>
<span>    <span class="st">"a2_eudract_number"</span><span class="op">)</span>,</span>
<span>  con <span class="op">=</span> <span class="va">db</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find unique trial identifiers for trials that have nore than</span></span>
<span><span class="co"># one record, for example for several EU Member States:</span></span>
<span><span class="va">uniqueids</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dbFindIdsUniqueTrials.html">dbFindIdsUniqueTrials</a></span><span class="op">(</span>con <span class="op">=</span> <span class="va">db</span><span class="op">)</span></span>
<span><span class="co"># Searching for duplicate trials...</span></span>
<span><span class="co">#  - Getting trial ids, 279 found in collection</span></span>
<span><span class="co">#  - Finding duplicates among registers' and sponsor ids...</span></span>
<span><span class="co">#  - 208 EUCTR _id were not preferred EU Member State record for 71 trials</span></span>
<span><span class="co">#  - Keeping 71 records from EUCTR</span></span>
<span><span class="co"># = Returning keys (_id) of 71 records in collection "some_collection_name"</span></span>
<span></span>
<span><span class="co"># Keep only unique / de-duplicated records:</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span></span>
<span>  <span class="va">result</span>,</span>
<span>  subset <span class="op">=</span> <span class="va">`_id`</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">uniqueids</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Tabulate the selected clinical trial information:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">result</span>,</span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span></span>
<span>       <span class="va">p_end_of_trial_status</span>,</span>
<span>       <span class="va">a7_trial_is_part_of_a_paediatric_investigation_plan</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#                     a7_trial_is_part_of_a_paediatric_investigation_plan</span></span>
<span><span class="co"># p_end_of_trial_status      Information not present in EudraCT No Yes</span></span>
<span><span class="co">#   Completed                                                 6 32  16</span></span>
<span><span class="co">#   GB - no longer in EU/EEA                                  0  7   5</span></span>
<span><span class="co">#   Ongoing                                                   0  1   0</span></span>
<span><span class="co">#   Prematurely Ended                                         1  2   0</span></span>
<span><span class="co">#   Restarted                                                 0  1   0</span></span></code></pre></div>
<ul>
<li><p>Add records from another register (CTGOV) into the same collection</p></li>
<li><p>Search used in this example: <a href="https://clinicaltrials.gov/ct2/results?cond=neuroblastoma&amp;rslt=With&amp;recrs=e&amp;age=0&amp;intr=Drug" class="external-link uri">https://clinicaltrials.gov/ct2/results?cond=neuroblastoma&amp;rslt=With&amp;recrs=e&amp;age=0&amp;intr=Drug</a></p></li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve trials from another register:</span></span>
<span><span class="fu"><a href="reference/ctrLoadQueryIntoDb.html">ctrLoadQueryIntoDb</a></span><span class="op">(</span></span>
<span>  queryterm <span class="op">=</span> <span class="st">"cond=neuroblastoma&amp;rslt=With&amp;recrs=e&amp;age=0&amp;intr=Drug"</span>,</span>
<span>  register <span class="op">=</span> <span class="st">"CTGOV"</span>,</span>
<span>  con <span class="op">=</span> <span class="va">db</span><span class="op">)</span></span>
<span><span class="co"># * Found search query from CTGOV: cond=neuroblastoma&amp;rslt=With&amp;recrs=e&amp;age=0&amp;intr=Drug</span></span>
<span><span class="co"># (1/3) Checking trials in CTGOV:</span></span>
<span><span class="co"># Retrieved overview, records of 44 trial(s) are to be downloaded</span></span>
<span><span class="co"># Checking helper binaries: done</span></span>
<span><span class="co"># Downloading: 620 kB</span></span>
<span><span class="co"># (2/3) Converting to JSON, 44 records converted</span></span>
<span><span class="co"># (3/3) Importing JSON records into database...</span></span>
<span><span class="co"># = Imported or updated 43 trial(s)</span></span>
<span><span class="co"># * Updated history ("meta-info" in "some_collection_name")</span></span></code></pre></div>
<ul>
<li><p>Add records from a third register (ISRCTN) into the same collection</p></li>
<li><p>Search used in this example: <a href="https://www.isrctn.com/search?q=neuroblastoma" class="external-link uri">https://www.isrctn.com/search?q=neuroblastoma</a></p></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve trials from another register:</span></span>
<span><span class="fu"><a href="reference/ctrLoadQueryIntoDb.html">ctrLoadQueryIntoDb</a></span><span class="op">(</span></span>
<span>  queryterm <span class="op">=</span> <span class="st">"https://www.isrctn.com/search?q=neuroblastoma"</span>,</span>
<span>  con <span class="op">=</span> <span class="va">db</span><span class="op">)</span></span>
<span><span class="co"># * Found search query from ISRCTN: q=neuroblastoma</span></span>
<span><span class="co"># (1/3) Checking trials in ISRCTN:</span></span>
<span><span class="co"># Retrieved overview, records of 9 trial(s) are to be downloaded</span></span>
<span><span class="co"># Checking helper binaries: done</span></span>
<span><span class="co"># Downloading: 90 kB</span></span>
<span><span class="co"># (2/3) Converting to JSON, 9 records converted</span></span>
<span><span class="co"># (3/3) Importing JSON records into database...</span></span>
<span><span class="co"># = Imported or updated 9 trial(s)</span></span>
<span><span class="co"># * Updated history ("meta-info" in "some_collection_name")</span></span></code></pre></div>
<ul>
<li>Result-related trial information</li>
</ul>
<p>Analyse some simple result details (see vignette for more examples):</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get all records that have values in any of the specified fields</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dbGetFieldsIntoDf.html">dbGetFieldsIntoDf</a></span><span class="op">(</span></span>
<span>  fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"clinical_results.baseline.analyzed_list.analyzed.count_list.count"</span>,</span>
<span>    <span class="st">"clinical_results.baseline.group_list.group"</span>,</span>
<span>    <span class="st">"clinical_results.baseline.analyzed_list.analyzed.units"</span>,</span>
<span>    <span class="st">"study_design_info.allocation"</span>,</span>
<span>    <span class="st">"location"</span><span class="op">)</span>,</span>
<span>  con <span class="op">=</span> <span class="va">db</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Transform all fields into long name - value format</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dfTrials2Long.html">dfTrials2Long</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">result</span><span class="op">)</span></span>
<span><span class="co"># Total 6386 rows, 12 unique names of variables</span></span>
<span></span>
<span><span class="co"># [1.] get counts of subjects for all arms into data frame</span></span>
<span><span class="co"># This count is in the group where either its title or its</span></span>
<span><span class="co"># description starts with "Total"</span></span>
<span><span class="va">nsubj</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dfName2Value.html">dfName2Value</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">result</span>,</span>
<span>  valuename <span class="op">=</span> <span class="st">"clinical_results.baseline.analyzed_list.analyzed.count_list.count.value"</span>,</span>
<span>  wherename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>    <span class="st">"clinical_results.baseline.group_list.group.title|"</span>,</span>
<span>    <span class="st">"clinical_results.baseline.group_list.group.description"</span><span class="op">)</span>,</span>
<span>  wherevalue <span class="op">=</span> <span class="st">"^Total"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># [2.] count number of sites</span></span>
<span><span class="va">nsite</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dfName2Value.html">dfName2Value</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">result</span>,</span>
<span>  <span class="co"># some ctgov records use</span></span>
<span>  <span class="co"># location.name, others use</span></span>
<span>  <span class="co"># location.facility.name</span></span>
<span>  valuename <span class="op">=</span> <span class="st">"^location.*name$"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># count</span></span>
<span><span class="va">nsite</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply</a></span><span class="op">(</span></span>
<span>  X <span class="op">=</span> <span class="va">nsite</span><span class="op">[[</span><span class="st">"value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>  INDEX <span class="op">=</span> <span class="va">nsite</span><span class="op">[[</span><span class="st">"_id"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>  FUN <span class="op">=</span> <span class="va">length</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">nsite</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"_id"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">nsite</span><span class="op">)</span>,</span>
<span>  <span class="va">nsite</span>,</span>
<span>  check.names <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  row.names <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># [3.] randomised?</span></span>
<span><span class="va">ncon</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dfName2Value.html">dfName2Value</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">result</span>,</span>
<span>  valuename <span class="op">=</span> <span class="st">"study_design_info.allocation"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># merge sets</span></span>
<span><span class="va">nset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">nsubj</span>, <span class="va">nsite</span>, by <span class="op">=</span> <span class="st">"_id"</span><span class="op">)</span></span>
<span><span class="va">nset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">nset</span>, <span class="va">ncon</span>, by <span class="op">=</span> <span class="st">"_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example plot</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">nset</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Neuroblastoma trials with results"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"clinicaltrials.gov"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">nsite</span>,</span>
<span>      y <span class="op">=</span> <span class="va">value.x</span>,</span>
<span>      colour <span class="op">=</span> <span class="va">value.y</span> <span class="op">==</span> <span class="st">"Randomized"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Number of sites"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Total number of subjects"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"Randomised?"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"man/figures/README-ctrdata_results_neuroblastoma.png"</span>,</span>
<span>       width <span class="op">=</span> <span class="fl">5</span>, height <span class="op">=</span> <span class="fl">3</span>, units <span class="op">=</span> <span class="st">"in"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="https://raw.githubusercontent.com/rfhb/ctrdata/master/docs/reference/figures/README-ctrdata_results_neuroblastoma.png" alt=""><p class="caption">Neuroblastoma trials</p>
</div>
<ul>
<li>Retrieve protocols, statistical analysis plans and other documents into a local folder <code>./files/</code>
</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># eudract files are downloaded as part of results</span></span>
<span><span class="fu"><a href="reference/ctrLoadQueryIntoDb.html">ctrLoadQueryIntoDb</a></span><span class="op">(</span></span>
<span>  queryterm <span class="op">=</span> <span class="va">q</span>,</span>
<span>  euctrresults <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  euctrresultspdfpath <span class="op">=</span> <span class="st">"./files/"</span>,</span>
<span>  con <span class="op">=</span> <span class="va">db</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ctgov files can separately be downloaded</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="reference/dbGetFieldsIntoDf.html">dbGetFieldsIntoDf</a></span><span class="op">(</span></span>
<span>      fields <span class="op">=</span> <span class="st">"provided_document_section.provided_document.document_url"</span>,</span>
<span>      con <span class="op">=</span> <span class="va">db</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, </span>
<span>    split <span class="op">=</span> <span class="st">" / "</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>    <span class="va">f</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"./files/"</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"[/:]"</span>, <span class="st">"-"</span>, <span class="va">f</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="meta">Meta<a class="anchor" aria-label="anchor" href="#meta"></a>
</h2>
<div class="section level3">
<h3 id="additional-features-under-consideration">Additional features under consideration<a class="anchor" aria-label="anchor" href="#additional-features-under-consideration"></a>
</h3>
<ul>
<li><p>Retrieve previous versions of protocol- or results-related information. The challenge is that, apparently, initial versions cannot be queried and historical versions can only be retrieved one-by-one and not in structured format.</p></li>
<li><p>Merge results-related fields retrieved from different registers (e.g., corresponding endpoints). The challenge is the incomplete congruency and different structure of fields.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h3>
<ul>
<li><p>Data providers and curators of the clinical trial registers. Please review and respect their copyrights and terms and conditions, see <code>ctrOpenSearchPagesInBrowser(copyright = TRUE)</code>.</p></li>
<li><p>Package <code>ctrdata</code> has been made possible building on the work done for <a href="https://www.r-project.org/" class="external-link">R</a>, <a href="https://cran.r-project.org/package=curl" class="external-link">curl</a>, <a href="https://cran.r-project.org/package=httr" class="external-link">httr</a>, <a href="https://cran.r-project.org/package=xml2" class="external-link">xml2</a>, <a href="https://cran.r-project.org/package=rvest" class="external-link">rvest</a>, <a href="https://cran.r-project.org/package=mongolite" class="external-link">mongolite</a>, <a href="https://cran.r-project.org/package=jsonlite" class="external-link">jsonlite</a>, <a href="https://cran.r-project.org/package=nodbi" class="external-link">nodbi</a>, <a href="https://cran.r-project.org/package=RPostgres" class="external-link">RPostgres</a>, <a href="https://CRAN.R-project.org/package=RSQLite" class="external-link">RSQLite</a> and <a href="https://cran.r-project.org/package=clipr" class="external-link">clipr</a>.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="issues-and-notes">Issues and notes<a class="anchor" aria-label="anchor" href="#issues-and-notes"></a>
</h3>
<ul>
<li><p>Please file issues and bugs <a href="https://github.com/rfhb/ctrdata/issues" class="external-link">here</a>. Also check out how to handle some of the closed issues, e.g.¬†on <a href="https://github.com/rfhb/ctrdata/issues/22" class="external-link">C stack usage too close to the limit</a> and on a <a href="https://github.com/rfhb/ctrdata/issues/19#issuecomment-820127139" class="external-link">SSL certificate problem: unable to get local issuer certificate</a></p></li>
<li><p>Information in trial registers may not be fully correct; see for example <a href="https://doi.org/10.1136/bmj.k1452" class="external-link">this publication on CTGOV</a>.</p></li>
<li><p>No attempts were made to harmonise field names between registers (nevertheless, <code><a href="reference/dfMergeTwoVariablesRelevel.html">dfMergeTwoVariablesRelevel()</a></code> can be used to merge and map two variables / fields into one).</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="trial-records-json-in-databases">Trial records‚Äô JSON in databases<a class="anchor" aria-label="anchor" href="#trial-records-json-in-databases"></a>
</h2>
<div class="section level3">
<h3 id="postgresql">PostgreSQL<a class="anchor" aria-label="anchor" href="#postgresql"></a>
</h3>
<div class="figure">
<img src="https://raw.githubusercontent.com/rfhb/ctrdata/master/docs/reference/figures/README-ctrdata_json_postgresql.jpg" alt=""><p class="caption">Example JSON representation in PostgreSQL</p>
</div>
</div>
<div class="section level3">
<h3 id="mongodb">MongoDB<a class="anchor" aria-label="anchor" href="#mongodb"></a>
</h3>
<div class="figure">
<img src="https://raw.githubusercontent.com/rfhb/ctrdata/master/docs/reference/figures/README-ctrdata_json_mongodb.jpg" alt=""><p class="caption">Example JSON representation in MongoDB</p>
</div>
</div>
<div class="section level3">
<h3 id="sqlite">SQLite<a class="anchor" aria-label="anchor" href="#sqlite"></a>
</h3>
<div class="figure">
<img src="https://raw.githubusercontent.com/rfhb/ctrdata/master/docs/reference/figures/README-ctrdata_json_sqlite.jpg" alt=""><p class="caption">Example JSON representation in SQLite</p>
</div>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ralf Herold <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-8148-6748" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="table-of-contents">
<h2 data-toc-skip>Table of contents</h2>
<ul class="list-unstyled">
<li><nav id="toc"></nav></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ralf Herold.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
