<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate fields from data in other fields — dfCalculate • ctrdata</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate fields from data in other fields — dfCalculate"><meta name="description" content="Across registers, calculate a trial concept (e.g., status of recruitment)
from fields in a data frame. The concept is defined within ctrdata
based on common understanding and any relevant publications.
Details of the function are printed to explain it, if no data frame is specified."><meta property="og:description" content="Across registers, calculate a trial concept (e.g., status of recruitment)
from fields in a data frame. The concept is defined within ctrdata
based on common understanding and any relevant publications.
Details of the function are printed to explain it, if no data frame is specified."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@rfhb"><meta name="twitter:site" content="@rfhb"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ctrdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.20.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ctrdata_install.html">Install R package ctrdata</a></li>
    <li><a class="dropdown-item" href="../articles/ctrdata_retrieve.html">Retrieve clinical trial information</a></li>
    <li><a class="dropdown-item" href="../articles/ctrdata_summarise.html">Summarise and analyse clinical trial information</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rfhb/ctrdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate fields from data in other fields</h1>
      <small class="dont-index">Source: <a href="https://github.com/rfhb/ctrdata/blob/HEAD/R/dfCalculate.R" class="external-link"><code>R/dfCalculate.R</code></a></small>
      <div class="d-none name"><code>dfCalculate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Across registers, calculate a trial concept (e.g., status of recruitment)
from fields in a data frame. The concept is defined within ctrdata
based on common understanding and any relevant publications.
Details of the function are printed to explain it, if no data frame is specified.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dfCalculate</span><span class="op">(</span>name <span class="op">=</span> <span class="st">".*"</span>, df <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>String with name of function to be applied to `df`, or regular
expression to list available functions.</p></dd>


<dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>Optional. Data frame with fields needed to apply function `name`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame with additional column of name `name` as calculated
applying the function `name`. If `df` is `NULL` (default), either a list of
functions corresponding to `name` or, if exactly one function is identified,
prints details of the function `name` to explain the implementation of the
concept and to return invisibly the names of fields needed for its calculation.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The names of the functions can also be used for the argument `calculate`
in <a href="dbGetFieldsIntoDf.html">dbGetFieldsIntoDf</a> to achieve the same purpose already at the
time that a data frame with data is generated from the trial collection.
This approach will in most cases be more efficient and preferred over
using dfCalculate.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># list names of all available functions in ctrdata</span></span></span>
<span class="r-in"><span><span class="fu">dfCalculate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] ".isMedIntervTrial"      ".isPlatformTrial"       ".isUniqueTrial"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] ".numTestArmsSubstances" ".startDate"             ".statusRecruitment"    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># list names of functions for regular expression of name</span></span></span>
<span class="r-in"><span><span class="fu">dfCalculate</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"status"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] ".statusRecruitment"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># describe a specific function</span></span></span>
<span class="r-in"><span><span class="fu">dfCalculate</span><span class="op">(</span>name <span class="op">=</span> <span class="st">".statusRecruitment"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculates the status at the time of loading the trial records. Maps the categories that are in fields which specify the state of recruitment. Simplifies them into categories "ongoing", "completed" and "other." Returns an ordered factor.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> p_end_of_trial_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> last_known_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> overall_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.statusModule.overallStatus</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentEnd</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentStart</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentStatusOverride</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctPublicStatus</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print descriptions of all functions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu">dfCalculate</span><span class="op">(</span><span class="op">)</span>, <span class="va">dfCalculate</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .isMedIntervTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculates if record is a medicine-interventional trial, investigating one or more medicine, whether biological or not.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> For EUCTR and CTIS, this corresponds to all records as per the definition of the EU Clinical Trial Regulation.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> For CTGOV and CTGOV2, this is based on drug or biological as type of intervention, and interventional as type of study.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> For ISRCTN, this is based on drug or biological as type of intervention, and interventional as type of study.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Returns a logical.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctrname</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> intervention.intervention_type</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> study_type</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.armsInterventionsModule.interventions.type</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.designModule.studyType</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> interventions.intervention.interventionType</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialDesign.primaryStudyDesign</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctrname</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.isMedIntervTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .isMedIntervTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .isPlatformTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculates if the trial is likely a platform trial or not. As operational definition, at least one of these criteria is true:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - trial has "platform", "basket" or "umbrella" in its title or description (for ISRCTN, this is the only criterion; some trials in EUCTR lack data in English) - trial has more than 2 active arms with different investigational medicines, after excluding comparator, auxiliary and placebo medicines (calculated with function .numTestArmsSubstances()) - trial more than 2 periods, after excluding screening, extension and follow-up periods (for CTGOV and CTGOV2, this criterion requires results-related data)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Requires packages dplyr and stringdist to be installed; stringdist is used for evaluating names of active substances, which are considered similar when the similarity is 0.8 or higher.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Returns a logical.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctrname</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> a3_full_title_of_the_trial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialInformation.fullTitle</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> subjectDisposition.postAssignmentPeriods.postAssignmentPeriod.title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> subjectDisposition.postAssignmentPeriods.postAssignmentPeriod.arms.arm</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> official_title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> detailed_description.textblock</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> clinical_results.participant_flow.period_list.period.title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> arm_group</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.identificationModule.officialTitle</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.descriptionModule.detailedDescription</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> resultsSection.participantFlowModule.periods.title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.armsInterventionsModule.armGroups</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialDescription.title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialDescription.scientificTitle</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> interventions.intervention.interventionType</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialDescription.title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> authorizedApplication.authorizedPartI.trialDetails.clinicalTrialIdentifiers.fullTitle</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> authorizedApplication.authorizedPartI.trialDetails.clinicalTrialIdentifiers.publicTitle</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> authorizedApplication.authorizedPartI.trialDetails.protocolInformation.studyDesign.periodDetails.title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> authorizedApplication.authorizedPartI.productRoleGroupInfos</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.isPlatformTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .isPlatformTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .isUniqueTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Applies function dbFindIdsUniqueTrials() with its defaults. Returns a logical.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> _id</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctrname</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> a2_eudract_number</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> a52_us_nct_clinicaltrialsgov_registry_number</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialInformation.usctnIdentifier</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> a51_isrctn_international_standard_randomised_controlled_trial_number</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialInformation.isrctnIdentifier</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> a41_sponsors_protocol_code_number</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> id_info.secondary_id</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> id_info.org_study_id</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> id_info.nct_id</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> id_info.nct_alias</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> externalRefs.eudraCTNumber</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> externalRefs.clinicalTrialsGovNumber</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> isrctn</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> externalRefs.protocolSerialNumber</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctNumber</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> eudraCtInfo.eudraCtCode</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> authorizedPartI.trialDetails.clinicalTrialIdentifiers.secondaryIdentifyingNumbers.nctNumber.number</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.identificationModule.nctId</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.identificationModule.secondaryIdInfos.id</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.identificationModule.nctIdAliases</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.identificationModule.orgStudyIdInfo.id</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.isUniqueTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .isUniqueTrial</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .numTestArmsSubstances</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculates the number of active arms with different investigational medicines, after excluding comparator, auxiliary and placebo medicines. (No data found for ISRCTN to calculate.)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Requires packages dplyr and stringdist to be installed; stringdist is used for evaluating names of active substances, which are considered similar when the similarity is 0.8 or higher.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Returns an integer.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> subjectDisposition.postAssignmentPeriods.postAssignmentPeriod.arms.arm</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> arm_group</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.armsInterventionsModule.armGroups</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialDescription.title</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> authorizedApplication.authorizedPartI.productRoleGroupInfos</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.numTestArmsSubstances</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .numTestArmsSubstances</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .startDate</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculates the date of start of the trial, based on the documented or planned start of recruitment, or on the date of opinion of the competent authority. Returns a date.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> n_date_of_competent_authority_decision</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialInformation.recruitmentStartDate</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> start_date</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.statusModule.startDateStruct.date</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentStart</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> trialDesign.overallStartDate</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> startDateEU</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> authorizedApplication.authorizedPartI.trialDetails.trialInformation.trialDuration.estimatedRecruitmentStartDate</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.startDate</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .startDate</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculates the status at the time of loading the trial records. Maps the categories that are in fields which specify the state of recruitment. Simplifies them into categories "ongoing", "completed" and "other." Returns an ordered factor.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> p_end_of_trial_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> last_known_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> overall_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.statusModule.overallStatus</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentEnd</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentStart</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentStatusOverride</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctPublicStatus</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># apply dfCalculate to data frame</span></span></span>
<span class="r-in"><span><span class="va">dbc</span> <span class="op">&lt;-</span> <span class="fu">nodbi</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/nodbi/reference/src_sqlite.html" class="external-link">src_sqlite</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   dbname <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"demo.sqlite"</span>, package <span class="op">=</span> <span class="st">"ctrdata"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   collection <span class="op">=</span> <span class="st">"my_trials"</span>,</span></span>
<span class="r-in"><span>   <span class="fu">RSQLite</span><span class="fu">::</span><span class="va"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLITE_RO</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> RSQLite version has enabled accelerating docdb_create() and docdb_update() functions when used with value = &lt;NDJSON file name&gt;.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use with existing data frame,</span></span></span>
<span class="r-in"><span><span class="co"># first get fields needed</span></span></span>
<span class="r-in"><span><span class="va">trialsDf</span> <span class="op">&lt;-</span> <span class="fu"><a href="dbGetFieldsIntoDf.html">dbGetFieldsIntoDf</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu">dfCalculate</span><span class="op">(</span>name <span class="op">=</span> <span class="st">".statusRecruitment"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  con <span class="op">=</span> <span class="va">dbc</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &gt;&gt;&gt;&gt; .statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Description:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Calculates the status at the time of loading the trial records. Maps the categories that are in fields which specify the state of recruitment. Simplifies them into categories "ongoing", "completed" and "other." Returns an ordered factor.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * Fields needed:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> p_end_of_trial_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> last_known_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> overall_status</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> protocolSection.statusModule.overallStatus</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentEnd</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentStart</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> participants.recruitmentStatusOverride</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ctPublicStatus</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> * To show the implementation, call: ctrdata::.statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> or, after package("ctrdata"), call: .statusRecruitment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;&lt;&lt;&lt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># then calculate</span></span></span>
<span class="r-in"><span><span class="fu">dfCalculate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">".statusRecruitment"</span>,</span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">trialsDf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  _id p_end_of_trial_status  last_known_status overall_status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           12949496                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           13281214                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           17473621                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2012-003632-23-CZ             Completed               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2012-003632-23-SE             Completed               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2014-002606-20-PT               Ongoing               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  2014-003556-31-SE             Completed               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  2022-501142-30-00                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  2023-505613-24-00                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 2024-510663-34-00                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11          20343063                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          61070850                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13          76463425                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14          80181452                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15          88261002                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16       NCT00617929                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17       NCT01125800                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18       NCT01483820                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19       NCT01505608                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20       NCT01592045                  &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21       NCT02620761                  &lt;NA&gt;               &lt;NA&gt;     Terminated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22       NCT03280147                  &lt;NA&gt;               &lt;NA&gt;      Completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23       NCT03325439                  &lt;NA&gt;               &lt;NA&gt;     Terminated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24       NCT03431558                  &lt;NA&gt;         Recruiting Unknown status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25       NCT03876704                  &lt;NA&gt;         Recruiting Unknown status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26       NCT04001712                  &lt;NA&gt;               &lt;NA&gt;      Completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27       NCT04041765                  &lt;NA&gt; Not yet recruiting Unknown status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28       NCT05969327                  &lt;NA&gt;               &lt;NA&gt;      Completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    protocolSection.statusModule.overallStatus participants.recruitmentEnd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                        &lt;NA&gt;                  2020-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                        &lt;NA&gt;                  2020-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                        &lt;NA&gt;                  2024-02-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                                        &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                        &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                        &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                        &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                        &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                                        &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                                       &lt;NA&gt;                  2013-12-31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                                       &lt;NA&gt;                  2011-12-31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                                       &lt;NA&gt;                  2015-05-31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                                       &lt;NA&gt;                  2012-03-31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                                       &lt;NA&gt;                  2017-09-28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                                 TERMINATED                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                                  COMPLETED                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                                 TERMINATED                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                                 TERMINATED                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                                  COMPLETED                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28                                       &lt;NA&gt;                        &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    participants.recruitmentStart participants.recruitmentStatusOverride</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                     2015-11-01                                Stopped</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                     2016-09-01                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                     2023-05-01                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                           &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                           &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                           &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                           &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                           &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                           &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                    2011-01-01                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                    2007-01-10                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                    2013-06-01                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                    2010-04-01                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                    2013-09-01                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28                          &lt;NA&gt;                                   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ctPublicStatus .statusRecruitment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                 &lt;NA&gt;              other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                 &lt;NA&gt;            ongoing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                 &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  Ongoing, recruiting            ongoing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  Ongoing, recruiting            ongoing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Ongoing, recruiting            ongoing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                &lt;NA&gt;              other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                &lt;NA&gt;              other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                &lt;NA&gt;              other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21                &lt;NA&gt;              other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23                &lt;NA&gt;              other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24                &lt;NA&gt;            ongoing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25                &lt;NA&gt;            ongoing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26                &lt;NA&gt;          completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27                &lt;NA&gt;            ongoing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28                &lt;NA&gt;          completed</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or use already when creating a trial data frame</span></span></span>
<span class="r-in"><span><span class="co"># to subset to the unique records of clinical trials</span></span></span>
<span class="r-in"><span><span class="va">trialsDf</span> <span class="op">&lt;-</span> <span class="fu"><a href="dbGetFieldsIntoDf.html">dbGetFieldsIntoDf</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  calculate <span class="op">=</span> <span class="st">".isUniqueTrial"</span>,</span></span>
<span class="r-in"><span>  con <span class="op">=</span> <span class="va">dbc</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - Finding duplicates among registers' and sponsor ids...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - 2 EUCTR _id were not preferred EU Member State record for 8 trials</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - Keeping 3 / 8 / 5 / 8 / 3 records from EUCTR / CTGOV / CTGOV2 / ISRCTN / CTIS</span>
<span class="r-in"><span><span class="va">trialsDf</span><span class="op">[</span><span class="va">trialsDf</span><span class="op">[[</span><span class="st">".isUniqueTrial"</span><span class="op">]</span><span class="op">]</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  _id .isUniqueTrial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           12949496           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           13281214           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           17473621           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2012-003632-23-SE           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2014-002606-20-PT           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  2014-003556-31-SE           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  2022-501142-30-00           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 2023-505613-24-00           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 2024-510663-34-00           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          20343063           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13          61070850           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14          76463425           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15          80181452           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16          88261002           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17       NCT00617929           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18       NCT01125800           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19       NCT01483820           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20       NCT01505608           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21       NCT01592045           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22       NCT02620761           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23       NCT03280147           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24       NCT03325439           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25       NCT03431558           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26       NCT03876704           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27       NCT04001712           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28       NCT04041765           TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29       NCT05969327           TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ralf Herold.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

